<?xml version="1.0" encoding="UTF-8" ?>
<templates>
    <t t-name="onlyoffice_template.CustomKanbanController" t-inherit="web.KanbanView" owl="1">
        <xpath expr="//Layout" position="after">
            <div class="editor" t-att-style="!state.isEditorVisible ? 'display: none;' : null">
                <div class="control_panel">
                    <ul class="models_list">
                        <t t-foreach="state.models" t-as="model" t-key="model.name">
                            <li t-on-click="() => this.toggleModelFields(model)" t-att-class="state.visibleModel === model.name ? 'model_open' : null" class="model">
                                Model: <t t-esc="model.name"/><br/>
                            </li>
                            <ul t-if="state.visibleModel === model.name" class="fields_list">
                                <t t-foreach="state.fields" t-as="field" t-key="field.key">
                                    <li t-on-click.stop.prevent="() => this.onFieldElementClicked(field)" class="field">
                                        Name: <t t-esc="field.name"/><br/>
                                        String: <t t-esc="field.string"/><br/>
                                        Type: <t t-esc="field.type"/>
                                    </li>
                                </t>
                            </ul>
                            <hr/>
                        </t>
                    </ul>
                </div>
                <div class="iframe"/>
            </div>
        </xpath>
    </t>

    <t t-name="onlyoffice_template.CustomKanbanController.Buttons" t-inherit="web.KanbanView.Buttons" t-inherit-mode="primary" owl="1">
        <xpath expr="//*[@class='btn btn-primary o-kanban-button-new']" position="replace">
            <button type="button" class="btn btn-primary o-kanban-button-create" t-on-click="() => this.onTemplateCreationButtonClick()">
                Create
            </button>
        </xpath>
    </t>
</templates>